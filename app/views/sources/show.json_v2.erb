[{count:<%=@cmapper.count%>},{version:<%=@version%>},{rt:<%=@refreshtime%>}<%if @total_count and @total_count > 0 and @cmapper.count > 0%>,{total_count:<%=@total_count%>}<%end%><%if @cmapper.token%>,{token:"<%=@cmapper.token%>"},<%end%><%wlist_size = 0%><%@wrapped_list.each do |source_name,oblist|%>{s:"<%=source_name%>",ol:[<%ob_size = 0%><%oblist.each do |objkey,obj|%>{<%if obj[:oo]%>oo:"<%=obj[:oo]%>",<%end%><%if obj[:e]%>e:"<%=obj[:e]%>"}<%else%>o:"<%=objkey%>",av:[<%obj[:av].each_with_index do |o,i|%><%if o[:d] == "delete"%>{i:<%=o[:i]%>}<%else%>{a:"<%=o[:a]%>",i:<%=o[:i]%>,v:<%=o[:v].to_json -%>}<%end%><%=i < obj[:av].length-1 ? "," : "]}"%><%end%><%=ob_size < oblist.length-1 ? "," : nil%><%ob_size += 1%><%end%><%end%>]}<%=wlist_size < @wrapped_list.length-1 ? "," : nil%><%wlist_size += 1%><%end%>]